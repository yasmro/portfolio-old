<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Practice い</title>
<link href="../../index.css" rel="stylesheet">
     <style>

        #canvas {
           margin: 10px;
           background-image: url(../../basicword/images/washi.jpg);
           border: 1px solid #aaaaaa;
        }

        input[type="image"]{
        	padding: 2px;
        	outline: none;
        }

        input[type="image"].active{
        	background-color: #fff;
        }
         .buttonBC {
  border:3px solid rgb(147,162,0);
  background-color: rgba(147,162,0,1);
  color: #fff;
  transition: .6s all;
  width: 120px;
  transition: 0.4s;
  cursor: pointer;
  border-radius: 5px;
}

.buttonBC:hover {
  border:3px solid rgb(147,162,0);
  background-color: rgba(147,162,0,.0);
  color:  rgba(147,162,0,1);
  transition: 0.4s;
}
     </style>
     
</head>

<body>
    <script src="../ht_docs_new/js/jquery-3.2.1.min.js"></script>
    <!-- Header -->

    <Header>
        <h1 id ="header">
             <!-- Let's Learn Japanese - for Novice - -->
            <a href="../../index.html"><img src="../../images/top.png" width="480"></a>
            
        </h1>
    
    </Header>
    
    <!-- Choice Category -->
    <div class="choice">
    <!--
        1. SVGの表示
        2. 1画ごと（レイヤー）にクリックすると色が変わる
        3. ドラッグすると、何らかの反応（描画テスト）
        4. 中心パス
        5. 中心パスに沿ってドラッグすると、fillで色塗り
        6. すべての画（レイヤー）で5．を適用
        7. 汎用性
    -->
    <h3>Let's practice 'い'!</h3>


    <table>
    <tr>
    <td>
    <div id = "model">
    	<center>
        <h4>Model</h4>
        <svg width="300" height="300" id="char" >
<g id="Other">
	<g>
		<path d="M42.011,67.882c0-2.245-0.099-2.971-1.584-3.103l-1.584-0.132c-0.264-0.132-0.297-0.594-0.033-0.727
			c2.772-0.495,4.588-1.353,5.446-1.914c0.132,0,0.264,0.066,0.33,0.165c-0.066,0.594-0.132,2.244-0.132,4.125v12.806
			c0,2.541,0.066,3.102,1.419,3.201l1.386,0.099c0.198,0.198,0.165,0.726-0.066,0.825c-1.287-0.066-2.772-0.099-3.928-0.099
			c-1.188,0-2.673,0.033-3.96,0.099c-0.231-0.099-0.264-0.627-0.066-0.825l1.353-0.099c1.386-0.099,1.419-0.66,1.419-3.201V67.882z"
			/>
	</g>
	<g>
		<path d="M218.846,85.417c1.518,0,2.508-0.198,3.102-0.726c0.628-0.561,0.859-0.99,1.057-1.353c0.231-0.099,0.594,0,0.727,0.198
			c-0.43,1.65-1.023,3.367-1.519,4.027c-1.353-0.066-2.739-0.099-4.257-0.099h-4.787c-1.848,0-2.937,0.033-3.662,0.099
			c-0.066-0.033-0.232-0.165-0.232-0.429c0-0.099,0.166-0.231,0.363-0.363c1.519-0.99,2.607-2.112,5.051-4.753
			c2.178-2.343,4.719-5.545,4.719-9.076c0-3.003-1.451-4.819-4.125-4.819c-1.98,0-3.4,1.353-4.291,3.3
			c-0.297,0.165-0.792,0-0.792-0.429c1.056-2.905,3.663-4.654,6.634-4.654c3.301,0,5.445,2.211,5.445,5.38
			c0,2.046-0.957,4.291-3.531,7.261l-2.013,2.311c-2.706,3.103-3.003,3.63-3.003,3.829c0,0.231,0.164,0.297,1.022,0.297H218.846z"/>
	</g>
</g>
<g id="CenterL1">
	<g>
		<path opacity="0.7" id="L1-Path" fill="#0000FF" d="M60.156,73.699c1.962-0.872,4.578-1.09,5.668-1.09c25.724,0,38.369,18.094,38.369,30.303
			c0,6.104-1.744,7.848-3.053,10.682c-5.231,11.336-9.592,20.493-9.592,45.127c0,5.23,3.053,25.506,15.696,25.506
			c2.834,0,5.45-1.09,11.118-9.156c6.977-9.811,16.35-24.853,23.326-36.407l2.616,1.526c-6.976,20.056-16.351,49.705-16.351,59.296
			c0,1.525,0.873,2.615,2.18,4.578c2.617,3.053,5.015,7.848,5.015,10.682c0,9.375-6.104,12.645-14.606,12.645
			c-17.658,0-51.884-20.057-51.884-85.021c0-11.336,1.744-33.572,1.744-41.856c0-4.142,0-20.928-10.246-25.942V73.699z"/>
	</g>
</g>
<g id="CenterL2">
	<path opacity="0.7" id="L2-Path" fill="#ED1C24" d="M174.62,95.147c52.975-0.872,74.557,30.521,74.557,54.282c0,13.08-7.194,23.98-18.967,23.98
		c-6.758,0-13.297-3.706-13.733-10.246c-2.181-32.918-15.261-61.913-42.511-63.656L174.62,95.147z"/>
</g>
        </svg>
        </center>
    </div>
    
    </td>
    <td>
    <div id="tracecanvas">
    
    	<!--
        <object id="char2" type="image/svg+xml" data="i_trace.svg" width="512" height="512">
          <embed src="i_trace.svg" width="512" height="512"></embed>
        </object>
        -->
        <center>
        <h4>Trace Canvas</h4>
     	<canvas id="canvas" width="400" height="400">
        </canvas><br>
    <!--
	<label>Color:<input id="color" type="color"></label>
	<label>Weight:<input id="width" type="number" value="15" min="1" max="30"></label>
    -->
	<input type="button" id="delete_canvas" value="Clear" class="buttonBC" onClick="delete_canvas()" style="font-size:150%">
    <!--
  	<input type="image" id="pencil" src="../images/1.png" width="35px" class="active" onClick="tool(1)">
  	<input type="image" id="eraser" src="../images/2.png" width="35px" onClick="tool(2)">
    -->
    	</center>
    </div>
    </td>
    </tr>
    </table>
   
        <script type="text/javascript">
		
		
			/*
			var char = 'い';
			var ctx = document.getElementById('canvas').getContext('2d');
			//テキストの指定
			ctx.font= 'bold 400px';
			ctx.fillStyle = '#666666';
			//textAlignのサンプル
			ctx.textAlign = 'center';
			ctx.fillText('い', 0, 0);
			
			*/

		
		var img = new Image();
		img.src = 'svg/i.svg';
		img.onload = imageLoad;
		
		function imageLoad() {
	 	   var c = document.getElementById('canvas');
		   var ctx = c.getContext('2d');
		   ctx.drawImage(img, 0, 0, 400, 400);
		}
		


		var drawing = false;
		// 前回の座標を記録する（初期値：０）
		var before_x = 0;
		var before_y = 0;
	
		var canvas = document.getElementById('canvas');
		var ctx = canvas.getContext('2d');
	
		canvas.addEventListener('mousemove', draw_canvas);
		// マウスをクリックしてる時
		canvas.addEventListener('mousedown', function(e) {
			drawing = true;
			var rect = e.target.getBoundingClientRect();
			before_x = e.clientX - rect.left;
			before_y = e.clientY - rect.top;
		});
		// マウスをクリックしてない時
		canvas.addEventListener('mouseup', function() {
			drawing = false;
		});
	
	// 描画の処理
	function draw_canvas(e) {
		// drawingがtrueじゃなかったら返す
		if (!drawing){
			return
		};
		var rect = e.target.getBoundingClientRect();
		var x = e.clientX - rect.left;
		var y = e.clientY - rect.top;
		var w = 30;
		var color = '#000000';
		var r   = parseInt(color.substring(1,3), 16);
		var g = parseInt(color.substring(3,5), 16);
		var b  = parseInt(color.substring(5,7), 16);
		// 描画
		ctx.lineCap = 'round';
		ctx.strokeStyle = 'rgb('+ r + ',' + g + ',' + b + ')';
		ctx.lineWidth = w;
		ctx.beginPath();
		ctx.moveTo(before_x, before_y);
		ctx.lineTo(x, y);
		ctx.stroke();
		ctx.closePath();
		// 描画最後の座標を前回の座標に代入する
		before_x = x;
		before_y = y;
	}
	
	// クリアボタンクリック時
	// クリアボタンクリックした時にアラートを表示
	function delete_canvas(){
	  //ret = confirm('Clear the canvas.');
	  // アラートで「OK」を選んだ時
	  //if (ret == true){
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		imageLoad();
	 // }
	}
	
	var pen = document.getElementById('pencil');
	var era = document.getElementById('eraser');
	pen.className = 'active';
	// 鉛筆と消しゴムの切り替え
	
	function tool(btnNum){
	// クリックされボタンが鉛筆だったら
	  if (btnNum == 1){
		ctx.globalCompositeOperation = 'source-over';
		pen.className = 'active';
		era.className = '';
	  }
	// クリックされボタンが消しゴムだったら
	  else if (btnNum == 2){
		ctx.globalCompositeOperation = 'destination-out';
		pen.className = '';
		era.className = 'active';
	  }
	}
	
	
	
	</script>
        
        
    
    
    
    
    <script>
        
        var f = document.getElementById("L1-Path");
        
        f.onclick = Clicked;
        
        var g = document.getElementById("L2-Path");
        
        g.onclick = Clicked;
		
		var h = document.getElementById("L3-Path");
        
        h.onclick = Clicked;
        
        var i = document.getElementById("L4-Path");
        
        i.onclick = Clicked;
        
        function Clicked(){
            this.setAttribute('fill', '#000000');
			this.setAttribute('opacity', '1');
        }
        
        
        /*
        var img = document.getElementById("char");
        var L1 = document.getElementById("L1-Path");
        
        img.onclick = img.setAttribute("fill", "#000000");
        //svg_img.onmouseout = changeDefaultColor;
        
        function changeColor() {
            img.setAttribute("fill", "#000000")
            //L1.setAttribute('fill', '#FFFFFF');
            alert("aaa");
           //document.getElementById('L1').setAttribute('fill', '#FFFFFF');
        }
        */
        
        /*
        $(function(){

            $('#char').click(function(){
                //クリックした時の処理
                $('#L1-Path').attr('fill','#000000');
            });

        });
        */
        
    </script>
    
</div>
<footer>
	<a href="../index.html"><img src="../../images/footerBack.png" hspace="20px"></a>
    
    <a href="../../index.html"><img src="../../images/footerTop.png" hspace="20px"></a>
</footer>



</body>
</html>
