<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Practice お</title>
<link href="../../index.css" rel="stylesheet">
     <style>

        #canvas {
           margin: 10px;
           background-image: url(../../basicword/images/washi.jpg);
           border: 1px solid #aaaaaa;
        }

        input[type="image"]{
        	padding: 2px;
        	outline: none;
        }

        input[type="image"].active{
        	background-color: #fff;
        }
         .buttonBC {
  border:3px solid rgb(147,162,0);
  background-color: rgba(147,162,0,1);
  color: #fff;
  transition: .6s all;
  width: 120px;
  transition: 0.4s;
  cursor: pointer;
  border-radius: 5px;
}

.buttonBC:hover {
  border:3px solid rgb(147,162,0);
  background-color: rgba(147,162,0,.0);
  color:  rgba(147,162,0,1);
  transition: 0.4s;
}
     </style>
     
</head>

<body>
    <script src="../ht_docs_new/js/jquery-3.2.1.min.js"></script>
    <!-- Header -->

    <Header>
        <h1 id ="header">
             <!-- Let's Learn Japanese - for Novice - -->
            <a href="../../index.html"><img src="../../images/top.png" width="480"></a>
            
        </h1>
    
    </Header>
    
    <!-- Choice Category -->
    <div class="choice">
    <!--
        1. SVGの表示
        2. 1画ごと（レイヤー）にクリックすると色が変わる
        3. ドラッグすると、何らかの反応（描画テスト）
        4. 中心パス
        5. 中心パスに沿ってドラッグすると、fillで色塗り
        6. すべての画（レイヤー）で5．を適用
        7. 汎用性
    -->
    <h3>Let's practice 'お'!</h3>


    <table>
    <tr>
    <td>
    <div id = "model">
    	<center>
        <h4>Model</h4>
        <svg width="300" height="300" id="char"   >
<g id="Other">
	<g>
		<path  d="M33.25,78.493c0-2.245-0.099-2.971-1.584-3.103l-1.584-0.132c-0.264-0.132-0.297-0.594-0.033-0.727
			c2.772-0.495,4.588-1.353,5.446-1.914c0.132,0,0.264,0.066,0.33,0.165c-0.066,0.594-0.132,2.244-0.132,4.125v12.806
			c0,2.541,0.066,3.102,1.419,3.201l1.386,0.099c0.198,0.198,0.165,0.726-0.066,0.825c-1.287-0.066-2.772-0.099-3.928-0.099
			c-1.188,0-2.673,0.033-3.96,0.099c-0.231-0.099-0.264-0.627-0.066-0.825l1.353-0.099c1.386-0.099,1.419-0.66,1.419-3.201V78.493z"
			/>
	</g>
	<g>
		<path  d="M117.758,34.809c1.518,0,2.508-0.198,3.102-0.726c0.628-0.561,0.859-0.99,1.057-1.353c0.231-0.099,0.594,0,0.727,0.198
			c-0.43,1.65-1.023,3.367-1.519,4.027c-1.353-0.066-2.739-0.099-4.257-0.099h-4.787c-1.848,0-2.937,0.033-3.662,0.099
			c-0.066-0.033-0.232-0.165-0.232-0.429c0-0.099,0.166-0.231,0.363-0.363c1.519-0.99,2.607-2.112,5.051-4.753
			c2.178-2.343,4.719-5.545,4.719-9.076c0-3.003-1.451-4.819-4.125-4.819c-1.98,0-3.4,1.353-4.291,3.3
			c-0.297,0.165-0.792,0-0.792-0.429c1.056-2.905,3.663-4.654,6.634-4.654c3.301,0,5.445,2.211,5.445,5.38
			c0,2.046-0.957,4.291-3.531,7.261l-2.013,2.311c-2.706,3.103-3.003,3.63-3.003,3.829c0,0.231,0.164,0.297,1.022,0.297H117.758z"/>
	</g>
	<g>
		<path d="M241.731,71.156c0-0.648,0.476-1.265,1.236-1.265s1.173,0.648,1.521,1.167c0.413,0.616,0.793,0.973,1.68,0.973
			c2.061,0,5.674-2.757,5.674-6.356c0-2.854-1.332-5.286-4.088-5.286c-1.554,0-2.695,0.778-3.424,1.589
			c-0.507-0.065-0.887-0.519-0.697-1.135c1.204-0.552,3.803-1.751,5.07-2.821c0.697-0.583,1.681-1.557,1.681-3.113
			c0-1.718-1.173-2.789-2.599-2.789c-1.87,0-3.297,1.2-4.279,2.854c-0.316,0.064-0.665-0.13-0.665-0.454
			c0.982-2.27,3.296-3.924,5.735-3.924c2.6,0,4.406,1.427,4.406,3.729c0,1.329-0.508,2.594-3.391,4.151
			c-0.159,0.324,0,0.454,0.379,0.486c2.409,0.195,4.596,1.914,4.596,4.994c0,2.335-1.108,4.67-3.074,6.42
			c-2.345,2.108-5.07,2.789-6.623,2.789C243.443,73.167,241.731,72.681,241.731,71.156z"/>
	</g>
</g>
<g id="CenterL1">
	<path opacity="0.7" id="L1-Path" fill="#0000FF" opacity="0.7" d="M153.667,73.167l-0.509,0.237c-3.301,5.687-9.651,12.557-22.098,16.585l-26.415,5.923
		c-8.382,2.606-22.353,4.028-29.718,4.028c-11.43,0-21.082-4.976-24.893-10.425l-0.762,0.474
		c-1.27,29.615,21.336,34.117,34.036,34.117c4.063,0,27.099-1.658,32.94-2.605c1.052-0.269,3.371-0.804,4.106-0.971
		c-0.024-0.15-0.047-0.454,0.023-0.005c0.254-0.058,0.302-0.067,0,0.002c17.525-4.028,42.177-11.109,52.591-17.743
		c5.842-3.554,8.636-9.24,8.636-12.083C181.606,82.881,173.986,76.01,153.667,73.167z"/>
</g>

<g id="CenterL2">
	<path  opacity="0.7" id="L2-Path" fill="#ED1C24" opacity="0.7" d="M188.719,141.164c-19.05,0-38.862,5.686-60.706,16.822c0-6.16,1.713-53.717,2.032-53.782
		c0-0.541,2.54-26.772,3.556-30.326c0.762-3.08,4.318-8.766,4.318-10.898c0-7.108-11.43-16.348-28.702-16.348
		c-16.002,0-25.4,10.662-25.654,13.504l0.508,0.711c1.524-0.237,3.048-0.237,4.572-0.237c9.398,0,16.002,4.027,16.002,23.929v11.372
		l-0.508,26.062l-0.762,48.57c-14.478,9.24-33.782,18.717-41.402,18.717c-7.112,0-8.636-1.658-14.478-1.658
		c-4.318,0-9.652,2.842-9.652,12.793c0,12.557,11.684,21.561,19.558,21.561c6.096,0,14.224-0.947,21.59-9.477
		c9.906,7.581,16.256,16.82,17.271,23.691c1.27,9.004,3.048,16.348,12.192,16.348c16.764,0,23.876-11.846,23.876-31.51
		c0-15.875-3.556-22.508-3.556-48.807c16.002-13.031,36.322-21.797,55.372-21.797c19.812,0,33.273,13.268,33.273,31.037
		c0,18.953-10.922,32.695-31.241,32.695c-12.7,0-22.606-5.449-22.606-23.219c0-4.265,0.509-9.24,1.778-14.926l-1.778-0.475
		c-6.857,7.582-11.684,23.219-11.684,36.25c0,20.375,22.098,32.221,42.672,32.221c30.733,0,57.657-18.717,57.657-52.359
		C252.218,164.856,231.898,141.164,188.719,141.164z M102.359,209.871c0,6.397-1.27,6.397-2.54,6.397
		c-3.81,0-13.208-4.265-18.034-6.87c5.334-4.738,11.684-11.609,21.082-19.665C102.613,197.314,102.359,204.896,102.359,209.871z"/>
</g>

<g id="CenterL3">
	<path opacity="0.7" id="L3-Path" fill="#006837" opacity="0.7" d="M225.04,80.038c-19.05,0-32.258,12.32-38.607,22.034l2.794,2.132
		c2.794-3.317,8.89-5.686,12.954-5.686c8.382,0,19.05,2.606,19.05,9.477c0,1.896-7.62,9.24-15.748,14.453l1.016,1.658
		c15.748-4.027,22.606-5.686,27.432-5.686c4.826,0,6.858,0.711,14.479,0.711c6.096,0,12.191-5.212,12.191-11.373
		C260.6,98.518,252.218,80.038,225.04,80.038z"/>
</g>
        </svg>
        </center>
    </div>
    
    </td>
    <td>
    <div id="tracecanvas">
    
    	<!--
        <object id="char2" type="image/svg+xml" data="i_trace.svg" width="512" height="512">
          <embed src="i_trace.svg" width="512" height="512"></embed>
        </object>
        -->
        <center>
        <h4>Trace Canvas</h4>
     	<canvas id="canvas" width="400" height="400">
        </canvas><br>
    <!--
	<label>Color:<input id="color" type="color"></label>
	<label>Weight:<input id="width" type="number" value="15" min="1" max="30"></label>
    -->
	<input type="button" id="delete_canvas" value="Clear" class="buttonBC" onClick="delete_canvas()" style="font-size:150%">
    <!--
  	<input type="image" id="pencil" src="../images/1.png" width="35px" class="active" onClick="tool(1)">
  	<input type="image" id="eraser" src="../images/2.png" width="35px" onClick="tool(2)">
    -->
    	</center>
    </div>
    </td>
    </tr>
    </table>
   
        <script type="text/javascript">
		
		
			/*
			var char = 'い';
			var ctx = document.getElementById('canvas').getContext('2d');
			//テキストの指定
			ctx.font= 'bold 400px';
			ctx.fillStyle = '#666666';
			//textAlignのサンプル
			ctx.textAlign = 'center';
			ctx.fillText('い', 0, 0);
			
			*/

		
		var img = new Image();
		img.src = 'svg/o.svg';
		img.onload = imageLoad;
		
		function imageLoad() {
	 	   var c = document.getElementById('canvas');
		   var ctx = c.getContext('2d');
		   ctx.drawImage(img, 0, 0, 400, 400);
		}
		


		var drawing = false;
		// 前回の座標を記録する（初期値：０）
		var before_x = 0;
		var before_y = 0;
	
		var canvas = document.getElementById('canvas');
		var ctx = canvas.getContext('2d');
	
		canvas.addEventListener('mousemove', draw_canvas);
		// マウスをクリックしてる時
		canvas.addEventListener('mousedown', function(e) {
			drawing = true;
			var rect = e.target.getBoundingClientRect();
			before_x = e.clientX - rect.left;
			before_y = e.clientY - rect.top;
		});
		// マウスをクリックしてない時
		canvas.addEventListener('mouseup', function() {
			drawing = false;
		});
	
	// 描画の処理
	function draw_canvas(e) {
		// drawingがtrueじゃなかったら返す
		if (!drawing){
			return
		};
		var rect = e.target.getBoundingClientRect();
		var x = e.clientX - rect.left;
		var y = e.clientY - rect.top;
		var w = 30;
		var color = '#000000';
		var r   = parseInt(color.substring(1,3), 16);
		var g = parseInt(color.substring(3,5), 16);
		var b  = parseInt(color.substring(5,7), 16);
		// 描画
		ctx.lineCap = 'round';
		ctx.strokeStyle = 'rgb('+ r + ',' + g + ',' + b + ')';
		ctx.lineWidth = w;
		ctx.beginPath();
		ctx.moveTo(before_x, before_y);
		ctx.lineTo(x, y);
		ctx.stroke();
		ctx.closePath();
		// 描画最後の座標を前回の座標に代入する
		before_x = x;
		before_y = y;
	}
	
	// クリアボタンクリック時
	// クリアボタンクリックした時にアラートを表示
	function delete_canvas(){
	  //ret = confirm('Clear the canvas.');
	  // アラートで「OK」を選んだ時
	  //if (ret == true){
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		imageLoad();
	 // }
	}
	
	var pen = document.getElementById('pencil');
	var era = document.getElementById('eraser');
	pen.className = 'active';
	// 鉛筆と消しゴムの切り替え
	
	function tool(btnNum){
	// クリックされボタンが鉛筆だったら
	  if (btnNum == 1){
		ctx.globalCompositeOperation = 'source-over';
		pen.className = 'active';
		era.className = '';
	  }
	// クリックされボタンが消しゴムだったら
	  else if (btnNum == 2){
		ctx.globalCompositeOperation = 'destination-out';
		pen.className = '';
		era.className = 'active';
	  }
	}
	
	
	
	</script>
        
        
    
    
    
    
    <script>
        
        var f = document.getElementById("L1-Path");
        
        f.onclick = Clicked;
        
        var g = document.getElementById("L2-Path");
        
        g.onclick = Clicked;
		
		var h = document.getElementById("L3-Path");
        
        h.onclick = Clicked;
        
        var i = document.getElementById("L4-Path");
        
        i.onclick = Clicked;
        
        function Clicked(){
            this.setAttribute('fill', '#000000');
			this.setAttribute('opacity', '1');
        }
        
        
        /*
        var img = document.getElementById("char");
        var L1 = document.getElementById("L1-Path");
        
        img.onclick = img.setAttribute("fill", "#000000");
        //svg_img.onmouseout = changeDefaultColor;
        
        function changeColor() {
            img.setAttribute("fill", "#000000")
            //L1.setAttribute('fill', '#FFFFFF');
            alert("aaa");
           //document.getElementById('L1').setAttribute('fill', '#FFFFFF');
        }
        */
        
        /*
        $(function(){

            $('#char').click(function(){
                //クリックした時の処理
                $('#L1-Path').attr('fill','#000000');
            });

        });
        */
        
    </script>
    
</div>
<footer>
	<a href="../index.html"><img src="../../images/footerBack.png" hspace="20px"></a>
    
    <a href="../../index.html"><img src="../../images/footerTop.png" hspace="20px"></a>
</footer>



</body>
</html>
