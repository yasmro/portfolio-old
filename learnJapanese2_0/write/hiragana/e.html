<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Practice え</title>
<link href="../../index.css" rel="stylesheet">
     <style>

        #canvas {
           margin: 10px;
           background-image: url(../../basicword/images/washi.jpg);
           border: 1px solid #aaaaaa;
        }

        input[type="image"]{
        	padding: 2px;
        	outline: none;
        }

        input[type="image"].active{
        	background-color: #fff;
        }
         .buttonBC {
  border:3px solid rgb(147,162,0);
  background-color: rgba(147,162,0,1);
  color: #fff;
  transition: .6s all;
  width: 120px;
  transition: 0.4s;
  cursor: pointer;
  border-radius: 5px;
}

.buttonBC:hover {
  border:3px solid rgb(147,162,0);
  background-color: rgba(147,162,0,.0);
  color:  rgba(147,162,0,1);
  transition: 0.4s;
}
     </style>
     
</head>

<body>
    <script src="../ht_docs_new/js/jquery-3.2.1.min.js"></script>
    <!-- Header -->

    <Header>
        <h1 id ="header">
             <!-- Let's Learn Japanese - for Novice - -->
            <a href="../../index.html"><img src="../../images/top.png" width="480"></a>
            
        </h1>
    
    </Header>
    
    <!-- Choice Category -->
    <div class="choice">
    <!--
        1. SVGの表示
        2. 1画ごと（レイヤー）にクリックすると色が変わる
        3. ドラッグすると、何らかの反応（描画テスト）
        4. 中心パス
        5. 中心パスに沿ってドラッグすると、fillで色塗り
        6. すべての画（レイヤー）で5．を適用
        7. 汎用性
    -->
    <h3>Let's practice 'え'!</h3>


    <table>
    <tr>
    <td>
    <div id = "model">
    	<center>
        <h4>Model</h4>
        <svg width="300" height="300" id="char">
<g id="Other">
	<g>
		<path d="M135.861,33.215c0-2.245-0.099-2.971-1.584-3.103l-1.584-0.132c-0.264-0.132-0.297-0.594-0.033-0.727
			c2.772-0.495,4.588-1.353,5.446-1.914c0.132,0,0.264,0.066,0.33,0.165c-0.066,0.594-0.132,2.244-0.132,4.125v12.806
			c0,2.541,0.066,3.102,1.419,3.201l1.386,0.099c0.198,0.198,0.165,0.726-0.066,0.825c-1.287-0.066-2.772-0.099-3.928-0.099
			c-1.188,0-2.673,0.033-3.96,0.099c-0.231-0.099-0.264-0.627-0.066-0.825l1.353-0.099c1.386-0.099,1.419-0.66,1.419-3.201V33.215z"
			/>
	</g>
	<g>
		<path d="M71.446,113.769c1.518,0,2.508-0.198,3.102-0.726c0.628-0.561,0.859-0.99,1.057-1.353c0.231-0.099,0.594,0,0.727,0.198
			c-0.43,1.65-1.023,3.367-1.519,4.027c-1.353-0.066-2.739-0.099-4.257-0.099h-4.787c-1.848,0-2.937,0.033-3.662,0.099
			c-0.066-0.033-0.232-0.165-0.232-0.429c0-0.099,0.166-0.231,0.363-0.363c1.519-0.99,2.607-2.112,5.051-4.753
			c2.178-2.343,4.719-5.545,4.719-9.076c0-3.003-1.451-4.819-4.125-4.819c-1.98,0-3.4,1.353-4.291,3.3
			c-0.297,0.165-0.792,0-0.792-0.429c1.056-2.905,3.663-4.654,6.634-4.654c3.301,0,5.445,2.211,5.445,5.38
			c0,2.046-0.957,4.291-3.531,7.261l-2.013,2.311c-2.706,3.103-3.003,3.63-3.003,3.829c0,0.231,0.164,0.297,1.022,0.297H71.446z"/>
	</g>
</g>
<g id="CenterL1">
	<path opacity="0.7" id="L1-Path" fill="#0000FF" d="M122.157,95.426c5.392-2.967,18.647-9.128,23.141-11.866
		c-0.449-0.228-0.449-0.228-2.022-0.228c-17.749,0-31.678-14.148-33.026-28.524l2.022-0.913c4.493,6.162,14.154,9.128,27.634,9.128
		c10.11,0,19.322-2.738,24.489-2.738c14.828,0,23.591,8.215,23.591,17.343c0,10.041-12.357,10.041-22.242,10.041
		c-9.437,0-33.027,6.846-42.014,10.269L122.157,95.426z"/>
</g>
<g id="CenterL2">
	<path opacity="0.7" id="L2-Path" fill="#ED1C24" d="M181.239,202.449c0,10.497,1.348,13.691,8.313,13.691c4.044,0,10.335-0.456,15.053-1.369
		c2.696-0.684,5.842-2.053,7.64-2.053c5.392,0,20.894,8.898,20.894,17.342c0,9.355-9.211,13.92-36.396,13.92
		c-28.309,0-41.563-11.182-41.563-31.719c0-2.282,0.674-13.008,0.674-15.289c0-10.953-2.022-14.833-7.863-14.833
		c-21.793,0-37.97,25.786-49.652,48.149c-3.819,7.074-9.886,12.322-17.974,12.322c-6.74,0-13.031-1.598-13.031-14.148
		c0-7.529,2.022-15.289,10.11-22.591c51-46.323,82.454-81.922,82.454-83.063c0-0.457-0.449-0.685-1.123-0.685
		c-4.494,0-33.926,10.497-43.811,16.43c-4.719,2.738-8.089,7.758-13.031,7.758c-8.313,0-19.546-6.846-19.546-17.114
		c0-10.269,5.841-18.712,18.648-26.015l1.797,2.054c-2.472,3.194-3.595,5.933-3.595,7.758c0,3.879,3.819,5.477,10.11,5.477
		c9.886,0,39.317-4.564,49.428-8.215c3.595-1.369,8.313-7.074,12.581-7.074c7.863,0,25.612,9.584,25.612,19.625
		c0,6.618-7.639,9.128-12.132,11.638c-14.379,8.215-28.982,16.887-54.37,45.867l1.123,0.229
		c13.031-8.672,22.242-10.498,29.207-10.498c14.379,0,20.445,11.182,20.445,25.102V202.449z"/>
</g>
        </svg>
        </center>
    </div>
    
    </td>
    <td>
    <div id="tracecanvas">
    
    	<!--
        <object id="char2" type="image/svg+xml" data="i_trace.svg" width="512" height="512">
          <embed src="i_trace.svg" width="512" height="512"></embed>
        </object>
        -->
        <center>
        <h4>Trace Canvas</h4>
     	<canvas id="canvas" width="400" height="400">
        </canvas><br>
    <!--
	<label>Color:<input id="color" type="color"></label>
	<label>Weight:<input id="width" type="number" value="15" min="1" max="30"></label>
    -->
	<input type="button" id="delete_canvas" value="Clear" class="buttonBC" onClick="delete_canvas()" style="font-size:150%">
    <!--
  	<input type="image" id="pencil" src="../images/1.png" width="35px" class="active" onClick="tool(1)">
  	<input type="image" id="eraser" src="../images/2.png" width="35px" onClick="tool(2)">
    -->
    	</center>
    </div>
    </td>
    </tr>
    </table>
   
        <script type="text/javascript">
		
		
			/*
			var char = 'い';
			var ctx = document.getElementById('canvas').getContext('2d');
			//テキストの指定
			ctx.font= 'bold 400px';
			ctx.fillStyle = '#666666';
			//textAlignのサンプル
			ctx.textAlign = 'center';
			ctx.fillText('い', 0, 0);
			
			*/

		
		var img = new Image();
		img.src = 'svg/e.svg';
		img.onload = imageLoad;
		
		function imageLoad() {
	 	   var c = document.getElementById('canvas');
		   var ctx = c.getContext('2d');
		   ctx.drawImage(img, 0, 0, 400, 400);
		}
		


		var drawing = false;
		// 前回の座標を記録する（初期値：０）
		var before_x = 0;
		var before_y = 0;
	
		var canvas = document.getElementById('canvas');
		var ctx = canvas.getContext('2d');
	
		canvas.addEventListener('mousemove', draw_canvas);
		// マウスをクリックしてる時
		canvas.addEventListener('mousedown', function(e) {
			drawing = true;
			var rect = e.target.getBoundingClientRect();
			before_x = e.clientX - rect.left;
			before_y = e.clientY - rect.top;
		});
		// マウスをクリックしてない時
		canvas.addEventListener('mouseup', function() {
			drawing = false;
		});
	
	// 描画の処理
	function draw_canvas(e) {
		// drawingがtrueじゃなかったら返す
		if (!drawing){
			return
		};
		var rect = e.target.getBoundingClientRect();
		var x = e.clientX - rect.left;
		var y = e.clientY - rect.top;
		var w = 30;
		var color = '#000000';
		var r   = parseInt(color.substring(1,3), 16);
		var g = parseInt(color.substring(3,5), 16);
		var b  = parseInt(color.substring(5,7), 16);
		// 描画
		ctx.lineCap = 'round';
		ctx.strokeStyle = 'rgb('+ r + ',' + g + ',' + b + ')';
		ctx.lineWidth = w;
		ctx.beginPath();
		ctx.moveTo(before_x, before_y);
		ctx.lineTo(x, y);
		ctx.stroke();
		ctx.closePath();
		// 描画最後の座標を前回の座標に代入する
		before_x = x;
		before_y = y;
	}
	
	// クリアボタンクリック時
	// クリアボタンクリックした時にアラートを表示
	function delete_canvas(){
	  //ret = confirm('Clear the canvas.');
	  // アラートで「OK」を選んだ時
	  //if (ret == true){
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		imageLoad();
	 // }
	}
	
	var pen = document.getElementById('pencil');
	var era = document.getElementById('eraser');
	pen.className = 'active';
	// 鉛筆と消しゴムの切り替え
	
	function tool(btnNum){
	// クリックされボタンが鉛筆だったら
	  if (btnNum == 1){
		ctx.globalCompositeOperation = 'source-over';
		pen.className = 'active';
		era.className = '';
	  }
	// クリックされボタンが消しゴムだったら
	  else if (btnNum == 2){
		ctx.globalCompositeOperation = 'destination-out';
		pen.className = '';
		era.className = 'active';
	  }
	}
	
	
	
	</script>
        
        
    
    
    
    
    <script>
        
        var f = document.getElementById("L1-Path");
        
        f.onclick = Clicked;
        
        var g = document.getElementById("L2-Path");
        
        g.onclick = Clicked;
		
		var h = document.getElementById("L3-Path");
        
        h.onclick = Clicked;
        
        var i = document.getElementById("L4-Path");
        
        i.onclick = Clicked;
        
        function Clicked(){
            this.setAttribute('fill', '#000000');
			this.setAttribute('opacity', '1');
        }
        
        
        /*
        var img = document.getElementById("char");
        var L1 = document.getElementById("L1-Path");
        
        img.onclick = img.setAttribute("fill", "#000000");
        //svg_img.onmouseout = changeDefaultColor;
        
        function changeColor() {
            img.setAttribute("fill", "#000000")
            //L1.setAttribute('fill', '#FFFFFF');
            alert("aaa");
           //document.getElementById('L1').setAttribute('fill', '#FFFFFF');
        }
        */
        
        /*
        $(function(){

            $('#char').click(function(){
                //クリックした時の処理
                $('#L1-Path').attr('fill','#000000');
            });

        });
        */
        
    </script>
    
</div>
<footer>
	<a href="../index.html"><img src="../../images/footerBack.png" hspace="20px"></a>
    
    <a href="../../index.html"><img src="../../images/footerTop.png" hspace="20px"></a>
</footer>



</body>
</html>
